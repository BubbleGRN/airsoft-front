import{u as y,ai as V,R as g,c as h,o as n,g as b,w as o,d as s,aM as u,ap as l,b as d,f as v,F as w,ar as x}from"./index-Htbi3-bx.js";import{a as p,V as A,b as m}from"./route-block-B72S4lfn.js";import{V as D}from"./VDivider-DISm40Zc.js";import{V as B}from"./VDataTable-DfUjkGuR.js";import{V as C}from"./VContainer-C_m1Qos4.js";import"./VPagination-DKMwnqdM.js";import"./VList-B3X0lAdv.js";import"./ssrBoot-BvMbKQsZ.js";import"./VMenu-Baq7YJwj.js";import"./VSlideGroup-DnDCSFrw.js";const S={class:"text-center"},q={__name:"orders",setup(E){const{apiAuth:f}=x(),{t:a}=y(),_=V(),i=g([]),k=h(()=>[{title:"ID",key:"_id"},{title:a("order.account"),key:"user.account"},{title:a("order.createdAt"),key:"createdAt",value:t=>new Date(t.createdAt).toLocaleString()},{title:a("order.cart"),key:"cart",sortable:!1},{title:a("order.price"),key:"price",value:t=>t.cart.reduce((r,e)=>r+e.product.price*e.quantity,0)}]);return(async()=>{var t,r;try{const{data:e}=await f.get("/order/all");i.value=e.result}catch(e){console.log(e),_({text:a("api."+(((r=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:r.message)||"unknownError")),snackbarProps:{color:"red"}})}})(),(t,r)=>(n(),b(C,null,{default:o(()=>[s(A,null,{default:o(()=>[s(p,{cols:"12"},{default:o(()=>[u("h1",S,l(t.$t("nav.orders")),1)]),_:1}),s(D),s(p,{cols:"12"},{default:o(()=>[s(B,{items:i.value,headers:k.value},{"item.cart":o(e=>[u("ul",null,[(n(!0),d(w,null,v(e.item.cart,c=>(n(),d("li",{key:c._id},l(c.product.name)+" x "+l(c.quantity),1))),128))])]),_:2},1032,["items","headers"])]),_:1})]),_:1})]),_:1}))}};typeof m=="function"&&m(q);export{q as default};
